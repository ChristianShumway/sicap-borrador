<div *ngIf="(ListaMaqEquipoObs$ | async) as catalogo">

  <div *ngIf="catalogo.length; else cargarLista">
    <div class="div" *ngIf="catalogo">
      <!-- <mat-form-field class="margin-333" style="width: 100%">
            <input matInput placeholder="Filtrar Conceptos" value="" (keyup)='updateFilter($event, catalogo)'>
          </mat-form-field> -->

      <div class="wrap-button">
        <button mat-raised-button color="primary" (click)="eliminarCatalogo()">Eliminar Lista de Maquinaria y Equipo</button>
      </div>

      <div class="mat-box-shadow margin-333">
        <ngx-datatable class="material fullscreen bg-white" [rows]="catalogo" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
          [scrollbarH]="true" [rowHeight]="'auto'" [limit]="20" [scrollbarH]="true" [rowHeight]="50">

          <ngx-datatable-column name="No." [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p [ngStyle]="{'color':row?.tipo === 2 ? 'green' : 'black' }">
                {{ row?.noMaterial }}
              </p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="ID" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p [ngStyle]="{'color':row?.tipo === 2 ? 'green' : 'black' }">
                {{row?.descripcion}}
              </p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Placas" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p [ngStyle]="{'color':row?.tipo === 2 ? 'green' : 'black' }">
                {{row?.unidad}}
              </p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Marca" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p [ngStyle]="{'color':row?.tipo === 2 ? 'green' : 'black' }">
                {{row?.cantidad}}
              </p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="LÃ­nea" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p [ngStyle]="{'color':row?.tipo === 2 ? 'green' : 'black' }">
                {{row?.precioUnitario | currency}}
              </p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Modelo" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p [ngStyle]="{'color':row?.tipo === 2 ? 'green' : 'black' }">
                {{row?.importe | currency}}
              </p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Tipo" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p [ngStyle]="{'color':row?.tipo === 2 ? 'green' : 'black' }">
                {{row?.importe | currency}}
              </p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Equipo Adicional" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p [ngStyle]="{'color':row?.tipo === 2 ? 'green' : 'black' }">
                {{row?.importe | currency}}
              </p>
            </ng-template>
          </ngx-datatable-column>

        </ngx-datatable>
      </div>
    </div>
  </div>

  <ng-template #cargarLista>
    <div class="mb-1">
      <input style="visibility: hidden;" type="file" #fileInput ng2FileSelect [uploader]="uploaderListaMaqEquipo" />
      <div ng2FileDrop (click)="fileInput.click()" [ngClass]="{'dz-file-over': hasBaseDropZoneOver}" [uploader]="uploaderListaMaqEquipo"
        (fileOver)="fileOverBase($event)" class="fileupload-drop-zone-logo-div">
        <p>Lista de Maquinaria y Equipo</p>
        <p>Arrastra o click sobre la imagen o zona punteada</p>

        <div *ngIf="uploaderListaMaqEquipo.queue.length; else tableNoData">
          <div *ngFor="let item of uploaderListaMaqEquipo.queue ">
            <div *ngIf="!item.isSuccess" class="progress" style="margin-bottom: 0;">
              <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
              <mat-progress-bar class="" color="primary" mode="determinate" [value]="item.progress">
              </mat-progress-bar>
            </div>
          </div>
        </div>

        <div *ngIf="loadingFile">
          <div class="wrap-loading-catalog">
            <mat-spinner [diameter]="40"></mat-spinner>
          </div>
        </div>

        <div class="wrap-catalog-list" *ngIf="listaConceptos">
          <div class="icon-excel-status">
            <!-- <img *ngIf="listaConceptos" class="fileupload-drop-zone-logo" src="http://{{host}}/{{rutaImg}}/files/{{obra.supervisor.imagen}}" alt=""> -->
            <img class="fileupload-drop-zone-logo" src="https://image.flaticon.com/icons/png/512/303/303850.png" alt="">
          </div>
          <div class="message">
            <p></p>
          </div>
        </div>
      </div>
    </div>

  </ng-template>


</div>